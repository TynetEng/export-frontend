<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Submit Shipping Instruction</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="parent">
    <div class="" style="text-align: center;">
      <img src="https://tanganyikaexport.com/wp-content/uploads/2023/12/offiial-logo-1.png" style="width: 20%;" />
      <div>
        <p>Tanganyika Export Services Ltd, Unit 11 Noak Industrial Estate, New Rd, Wennington, Essex, RM13 9EB </p>
        <p>T: +44 (0)20 8553 0906 | E:info@tanganyikaexport.com</p>
      

      </div>
    </div>
  <div class="container">
    <div style="text-align: center; background-color: #EFEFEF; padding:5px; color:red">   
      <p>If you have any question regarding filling in this form please contact our office or email back to <span style="color: blue;">document@tanganyikaexport.com</span></p>
     </div>
    <h2>SUBMIT SHIPPING INSTRUCTION</h2>

    <table class="info-table">
      <tr>
        <th>Shipping Line Booking Ref</th>
        <th>container NUMBER</th>
         <th>Seal number</th>
        <th>DESTINATION PORT</th>
      </tr>
      <tr>
        <td id="shippingRef"></td>
        <td id="containerNumber"></td>
        <td id="sealNumber"></td>
        <td id="destinationPort"></td>
      </tr>
      
      <tr>
        <th>Port of loading</th>
        <th>carrier name</th>
        <th>Loading Address</th>
        <th>ETD</th>
      </tr>

      <tr>
        <td id="pol"></td>
        <td id="carrierName"></td>
        <td id="LoadingAddress"></td>
        <td id="etd"></td>
      </tr>
      
    </table>

    <h3>FOR OUR RECORDS, PLEASE PROVIDE YOUR NAME AND EMAIL ADDRESS</h3>
    <div class="">
      <table class="info-table">
        <tr>
          <th>Your Name *</th>
          <th>Your Email *</th>
        </tr>

        <tr>
          <td><input type="text" placeholder="Name of person submitting this instruction" required /></td>
          <td><input type="email" placeholder="Email of person submitting this instruction" required /></td>
        </tr>
        
    </table>

    <h3>COMPLETE DETAILS FOR STEPS 1 TO 5</h3>

    <div class="flex-row">
      <div class="section">
        <h4>1. BILLING PARTY</h4>
        <input type="text" placeholder="Notify Name" id="notify-name" />
        <input type="text" placeholder="Notify Address 1" id="notify-addr1" />
        <input type="text" placeholder="Notify Address 2" id="notify-addr2" />
        <input type="text" placeholder="Notify City" id="notify-city" />
        <input type="text" placeholder="Notify Country" id="notify-country" />
        <input type="text" placeholder="Notify Postcode" id="notify-postcode" />
        <input type="email" placeholder="Notify Email" id="notify-email" />
        <input type="tel" placeholder="Notify Phone" id="notify-phone" />

      </div>

      <div class="section">
          <h4>2. SHIPPER/CONSIGNOR <input type="checkbox" id="sameAsBilling" /> <label for="sameAsBilling">Use same address as billing party</label></h4>
       
          <input type="text" placeholder="Consignor Name" id="consignor-name" />
        <input type="text" placeholder="Consignor Address 1" id="consignor-addr1" />
        <input type="text" placeholder="Consignor Address 2" id="consignor-addr2" />
        <input type="text" placeholder="Consignor City" id="consignor-city" />
        <input type="text" placeholder="Consignor Country" id="consignor-country" />
        <input type="text" placeholder="Consignor Postcode" id="consignor-postcode" />
        <input type="email" placeholder="Consignor Email" id="consignor-email" />
        <input type="tel" placeholder="Consignor Phone" id="consignor-phone" />
        </div>
      
    </div>

    <div class="flex-row">
        <div class="section">
        <h4>3. CONSIGNEE</h4>
        
           <input type="text" placeholder="Consignee Name" id="consignee-name" />
          <input type="text" placeholder="Consignee Address 1" id="consignee-addr1" />
          <input type="text" placeholder="Consignee Address 2" id="consignee-addr2" />
          <input type="text" placeholder="Consignee City" id="consignee-city" />
          <input type="text" placeholder="Consignee Country" id="consignee-country" />
          <input type="text" placeholder="Consignee Postcode" id="consignee-postcode" />
          <input type="email" placeholder="Consignee Email" id="consignee-email" />
          <input type="tel" placeholder="Consignee Phone" id="consignee-phone" />
      </div>
      

        <div class="section">
          <h4>4. SHIPMENT VALUE</h4>
          <input type="number" placeholder="0.0000" step="0.01" id="shipment-value" />
          

          <h4>5. YOUR REFERENCES & ADDITIONAL INFO</h4>
          <textarea placeholder="Any notes like tracking request, draft BOL, etc." rows="5" id="shipment-notes"></textarea>
        </div>
      </div>
      

      <div class="parent2">
        <h3>CONTAINERS</h3>
        <div class="container-header">
            <p>1 CONTAINER ADDED FOR CARRIER REFERENCE <span id="reference"></span></p>
            <button class="btn-add">ADD CARGO ITEM</button>
        </div>
      <table class="info-table">
        <thead>
          <tr>
            <th>CONTAINER NUMBER</th>
            <th>PACKAGES DESCRIPTION</th>
            <th>NUMBER OF PACKAGES</th>
            <th>VALUE OF THE PACKAGE IN ¬£: (if Known)</th>
            <th>PACKAGE HS CODE</th>
            <th>WEIGHT</th>
            <th>ACTION</th>
          </tr>
        </thead>
        <tbody id="container-list">
          <tr>
            <td data-label="CONTAINER NUMBER"><span id="referenceForm"></span></td>
            <td data-label="PACKAGES DESCRIPTION"><input type="text" /></td>
            <td data-label="NUMBER OF PACKAGES"><input type="number" /></td>
            <td data-label="VALUE OF THE PACKAGE IN ¬£: (if Known)"><input type="text" /></td>
            <td data-label="PACKAGE HS CODE"><input type="text" /></td>
            <td data-label="WEIGHT"><input type="number" /></td>
            <td data-label="ACTION" style="display: flex; flex-direction:row; align-items:center">
              <button class="edit-btn">‚úèÔ∏è</button>
              <button class="delete-btn">üóëÔ∏è</button>
            </td>
          </tr>
        </tbody>
      </table>
      
       <p style="color: red; font-weight: bold;">
        PLEASE COMPLETE NUMBER OF PACKAGES, PACKAGES DESCRIPTION AND WEIGHT FOR ALL CONTAINERS.
        
      </p>
     <div style="text-align: center; background-color: #EFEFEF; padding:5px; color:red">   
      <p>If you have any question regarding filling in this form please contact our office or email back to <span style="color: blue;">document@tanganyikaexport.com</span></p>
     </div>

      <div class="submitForm">
        <button id="submitFormBtn" class="btn-add">SUBMIT FORM</button>
      </div>
      </div>

      <div id="addContainerModal" class="modal">
        <div class="modal-content">
          <span class="close" id="closeModal">&times;</span>
          <h2>Add Cargo Item</h2>
          <div>
            <input type="text" id="containerNumber" placeholder="Container Number" />
            <input type="text" id="packagesDesc" placeholder="Packages Description" />
            <input type="number" id="packagesNumber" placeholder="Packages Number" />
            <input type="text" id="packageValue" placeholder="Packages Value" />
            <input type="text" id="packagesHS" placeholder="Packages HS Code" />
            <input type="number" id="weight" placeholder="Weight in KG (Enter '0' for VGM)" />
          </div>
      
          <footer>
            <button id="closeModal">Close</button>
            <button id="submitContainer">Add Cargo Item</button>
          </footer>
        </div>
      </div>
      
  </div>
  </div>

  <script src="script.js"></script>
</body>

<script>
  let dataResponse;
    document.getElementById("sameAsBilling").addEventListener("change", function () {
    const billingFields = {
      name: document.getElementById("notify-name").value,
      addr1: document.getElementById("notify-addr1").value,
      addr2: document.getElementById("notify-addr2").value,
      city: document.getElementById("notify-city").value,
      country: document.getElementById("notify-country").value,
      postcode: document.getElementById("notify-postcode").value,
      email: document.getElementById("notify-email").value,
      phone: document.getElementById("notify-phone").value
    };

    if (this.checked) {
      document.getElementById("consignor-name").value = billingFields.name;
      document.getElementById("consignor-addr1").value = billingFields.addr1;
      document.getElementById("consignor-addr2").value = billingFields.addr2;
      document.getElementById("consignor-city").value = billingFields.city;
      document.getElementById("consignor-country").value = billingFields.country;
      document.getElementById("consignor-postcode").value = billingFields.postcode;
      document.getElementById("consignor-email").value = billingFields.email;
      document.getElementById("consignor-phone").value = billingFields.phone;
    } else {
      document.querySelectorAll(".section:nth-of-type(2) input").forEach(input => input.value = "");
    }
  });

     
      
      document.addEventListener("click", function (e) {
        if (e.target.classList.contains("delete-btn")) {
          e.target.closest("tr").remove();
        }

        if (e.target.classList.contains("edit-btn")) {
    const row = e.target.closest("tr");

    // Check if we're entering or exiting edit mode
    const isEditing = row.classList.toggle("editing");

    // Convert each cell (except action buttons) to input or text
    Array.from(row.cells).forEach((cell, i) => {
      // Skip last column (action buttons)
      if (i === row.cells.length - 1) return;

      const currentContent = cell.textContent.trim();
      if (isEditing) {
        cell.innerHTML = `<input type="${i === 2 || i === 5 ? 'number' : 'text'}" value="${currentContent}" />`;
      } else {
        const input = cell.querySelector("input");
        if (input) cell.textContent = input.value;
      }
    });

    // Toggle icon
    e.target.textContent = isEditing ? "‚úÖ" : "‚úèÔ∏è";
  }
      });
      

      const modal = document.getElementById("addContainerModal");
const openBtn = document.querySelector(".btn-add");
const closeBtn = document.getElementById("closeModal");
const submitBtn = document.getElementById("submitContainer");

openBtn.onclick = () => modal.style.display = "block";
closeBtn.onclick = () => modal.style.display = "none";
window.onclick = (e) => { if (e.target == modal) modal.style.display = "none"; };

submitBtn.onclick = () => {
  const containerNumber = document.getElementById("containerNumber").value;
  const packagesNumber = document.getElementById("packagesNumber").value;
  const packagesDesc = document.getElementById("packagesDesc").value;
  const packageValue = document.getElementById("packageValue").value;
  const packagesHS = document.getElementById("packagesHS").value;
  const weight = document.getElementById("weight").value;

  const table = document.getElementById("container-list");
  const newRow = document.createElement("tr");
  newRow.innerHTML = `
    <td>${containerNumber}</td>
    <td>${packagesDesc}</td>
    <td>${packagesNumber}</td>
    <td>${packageValue}</td>
    <td>${packagesHS}</td>
    <td>${weight}</td>
    <td style="display: flex; flex-direction:row; align-items:center">
      <button class="edit-btn">‚úèÔ∏è</button>
      <button class="delete-btn">üóëÔ∏è</button>
    </td>
  `;
  table.appendChild(newRow);

  modal.style.display = "none";
  document.querySelectorAll('#addContainerModal input').forEach(input => input.value = '');
};

window.addEventListener('DOMContentLoaded', function() {
  function showLoader() {
    let loader = document.getElementById('itemLoaderModal');
    if (!loader) {
      loader = document.createElement('div');
      loader.id = 'itemLoaderModal';
      loader.innerHTML = `
        <div class="loader-modal-content">
          <div class="loader-spinner"></div>
          <div class="loader-text">Loading item data...</div>
        </div>
      `;
      document.body.appendChild(loader);
    }
    loader.style.display = 'flex';
  }
  function hideLoader() {
    let loader = document.getElementById('itemLoaderModal');
    if (loader) loader.style.display = 'none';
  }

  // Get itemId from URL params
  const urlParams = new URLSearchParams(window.location.search);
  const urlItemId = urlParams.get('itemId');
  if (urlItemId) {
    fetchItemData(urlItemId);
    fetchClientData(urlItemId);
  }

  // Fetch API and display result
  function fetchItemData(itemId) {
    showLoader();
    fetch(`https://export-api-45xf.onrender.com/api/item/${itemId}`, {
      method: 'GET',
      headers: {
        'Accept': 'application/json'
      }
    })
      .then(res => {
        if (!res.ok) throw new Error('API returned status ' + res.status);
        return res.json();
      })
      .then(data => {
        hideLoader();
        let resultDiv = document.getElementById('itemResult');
        document.getElementById("reference").innerHTML = data.fields.CarrierReference;
        document.getElementById("referenceForm").innerHTML = data.fields.CarrierReference;

        if (!resultDiv) {
          resultDiv = document.createElement('div');
          resultDiv.id = 'itemResult';
          document.querySelector('.container').prepend(resultDiv);
        }
        // Escape HTML for safety
        function escapeHtml(str) {
          if (!str && str !== 0) return '';
          return String(str).replace(/[&<>"]|'/g, function (c) {
            return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#39;'}[c] || c;
          });
        }
        // Format the data nicely
        let html = `<div class='item-info-box'>`;
        html += `<div><b>Item ID:</b> ${escapeHtml(data.fields.SystemId)}</div>`;
        html += `</div>`;
        resultDiv.innerHTML = html;

         document.getElementById("shippingRef").innerHTML = escapeHtml(data.fields.CarrierReference || '');
  document.getElementById("containerNumber").innerHTML = escapeHtml(data.fields.ContainerNumber || '');
    document.getElementById("sealNumber").innerHTML = escapeHtml(data.fields.SealNumber || '');
  document.getElementById("destinationPort").innerHTML = escapeHtml(data.fields.POD || '');

  document.getElementById("pol").innerHTML = escapeHtml(data.fields.POL || '');
  document.getElementById("carrierName").innerHTML = escapeHtml(data.fields.CarrierName || '');
  document.getElementById("LoadingAddress").innerHTML = escapeHtml(data.fields.LoadingAddress || '');
  const etdRaw = data.fields.ETD || '';
const etdDate = etdRaw ? escapeHtml(etdRaw.split("T")[0]) : '';
document.getElementById("etd").innerHTML = etdDate;
      })
      .catch(err => {
        hideLoader();
        alert('Failed to fetch item data: ' + err);
      });
  }

  function fetchClientData(itemId) {
  fetch(`https://export-api-45xf.onrender.com/api/${itemId}/clients`)
    .then(res => {
      if (!res.ok) throw new Error('Client API returned status ' + res.status);
      return res.json();
    })
    .then(clients => {
      if (clients && clients.length > 0 && clients[0].fields) {
        const f = clients[0].fields;
        document.getElementById('notify-name').value = f.FirstName ? `${f.FirstName} ${f.LastName || ''}`.trim() : '';
        document.getElementById('notify-email').value = f.Email || '';
        document.getElementById('notify-phone').value = f.Phone || '';
        document.getElementById('notify-addr1').value = f.BusinessName || '';
        // Optionally map more fields if needed
      }
    })
    .catch(err => {
      console.warn('Failed to fetch client info:', err);
    });
}

  // Helper to escape HTML for safe display
  function escapeHtml(str) {
    return str.replace(/[&<>"']/g, function(tag) {
      const chars = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;'
      };
      return chars[tag] || tag;
    });
  }
});

document.getElementById("submitFormBtn").addEventListener("click", function () {
  // Collect user identity
  const userName = document.querySelector('input[placeholder="Name of person submitting this instruction"]').value;
  const userEmail = document.querySelector('input[placeholder="Email of person submitting this instruction"]').value;

  // Billing Party
  const notify = {
    name: document.getElementById("notify-name").value,
    address1: document.getElementById("notify-addr1").value,
    address2: document.getElementById("notify-addr2").value,
    city: document.getElementById("notify-city").value,
    country: document.getElementById("notify-country").value,
    postcode: document.getElementById("notify-postcode").value,
    email: document.getElementById("notify-email").value,
    phone: document.getElementById("notify-phone").value,
  };

  // Shipper
  const consignor = {
    name: document.getElementById("consignor-name").value,
    address1: document.getElementById("consignor-addr1").value,
    address2: document.getElementById("consignor-addr2").value,
    city: document.getElementById("consignor-city").value,
    country: document.getElementById("consignor-country").value,
    postcode: document.getElementById("consignor-postcode").value,
    email: document.getElementById("consignor-email").value,
    phone: document.getElementById("consignor-phone").value,
  };

  // Consignee
  const consignee = {
    name: document.getElementById("consignee-name").value,
    address1: document.getElementById("consignee-addr1").value,
    address2: document.getElementById("consignee-addr2").value,
    city: document.getElementById("consignee-city").value,
    country: document.getElementById("consignee-country").value,
    postcode: document.getElementById("consignee-postcode").value,
    email: document.getElementById("consignee-email").value,
    phone: document.getElementById("consignee-phone").value,
  };

  // Shipment details
  const shipmentValue = document.getElementById("shipment-value").value;
  const notes = document.getElementById("shipment-notes").value;

  // Container data
  const containers = [];
  document.querySelectorAll("#container-list tr").forEach(row => {
    const cells = row.querySelectorAll("td");
    if (cells.length > 5) {
      containers.push({
        containerNumber: cells[0].textContent.trim(),
        description: cells[1].textContent.trim(),
        quantity: cells[2].textContent.trim(),
        value: cells[3].textContent.trim(),
        hsCode: cells[4].textContent.trim(),
        weight: cells[5].textContent.trim(),
      });
    }
  });

  const payload = {
    user: { name: userName, email: userEmail },
    billingParty: notify,
    shipper: consignor,
    consignee,
    shipmentValue,
    notes,
    containers,
    carrierReference: document.getElementById("reference").textContent.trim()
  };

  console.log("Sending payload:", payload);

  // POST to your API
  fetch("https://export-api-45xf.onrender.com/api/submit-shipping", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify(payload)
  })
  .then(res => res.json())
  .then(data => {
    alert("Form submitted successfully!");
    console.log("Response:", data);
  })
  .catch(err => {
    console.error("Error submitting form:", err);
    alert("Error submitting the form. Please try again.");
  });
});


      
      
</script>
<style>
    body {
        font-family: 'Segoe UI', Arial, sans-serif;
        background-color: #F9F9F9;
        margin: 0;
        padding: 10px;
        color: #222;
      }
      
      .container {
        max-width: 1200px;
        margin: 30px auto;
        background: #fff;
        padding: 32px 24px;
        border-radius: 16px;
        box-shadow: 0 6px 32px rgba(0,0,0,0.08), 0 1.5px 6px rgba(0,0,0,0.03);
      }
      
      h2, h3, h4 {
        text-align: center;
        margin-top: 30px;
        color: black
        letter-spacing: 1px;
      }
      h2 {
        font-size: 18px;
        margin-bottom: 18px;
      }
      h3 {
        font-size: 18px;
        margin-bottom: 10px;
      }
      h4 {
        font-size: 18px;
        margin-bottom: 8px;
      }
      
      .info-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        margin-bottom: 30px;
        background: #f1f5f9;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 1px 4px rgba(0,0,0,0.04);
      }
      
      .info-table th, .info-table td {
        border: none;
        padding: 14px 10px;
        text-align: left;
      }
      
      .info-table th{
        font-size: 13px;
        background-color: #EFEFEF;
        color: #1e293b;
        font-weight: bold;
        text-transform: uppercase;  
      }
      .info-table tr:nth-child(even) td {
        background: white;
      }
      .info-table tr td input{
        outline: 0;
        border: 1px solid #cbd5e1;
        width: 100%;
        padding: 7px 8px;
        border-radius: 5px;
        background: #fff;
        font-size: 14px;
        transition: border 0.2s;
      }
      .info-table tr td input:focus {
        border: 1.5px solid #EFEFEF;
        background: #f0f6ff;
      }
      .info-table tr td{
        height: 24px;
      }
      .flex-row {
        display: flex;
        flex-wrap: wrap;
        gap: 24px;
      }
      
      .form-group {
        flex: 1;
        display: flex;
        flex-direction: column;
      }
      
      .form-group input {
        padding: 10px;
        font-size: 14px;
        margin-top: 5px;
      }
      .container-header{
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .section {
        flex: 1;
        border: 1.5px solid #EEF3FA;
        padding: 18px 14px;
        border-radius: 10px;
        margin-top: 10px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        background: white;
        box-shadow: 0 1px 6px rgba(0,0,0,0.03);
      }
      
      .section input {
        margin-top: 10px;
        padding: 10px 8px;
        margin:5px 0;
        border-radius: 6px;
        border: 1px solid #cbd5e1;
        background: #fff;
        font-size: 15px;
        transition: border 0.2s;
      }
      .section input:focus {
        border: 1.5px solid #EFEFEF;
        background: #f0f6ff;
      }
      textarea {
        padding: 10px;
        resize: vertical;
        border-radius: 6px;
        border: 1px solid #cbd5e1;
        background: #fff;
        font-size: 15px;
        margin-top: 8px;
        transition: border 0.2s;
      }
      textarea:focus {
        border: 1.5px solid #EFEFEF;
        background: #f0f6ff;
      }
      .btn-add {
        background: #1e40af;
        color: white;
        padding: 10px;
        border: none;
        border-radius: 7px;
        cursor: pointer;
        margin-top: 18px;
        font-size: 12px;
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(37,99,235,0.08);
        transition: background 0.2s, transform 0.1s;
        margin-bottom: 2px;
      }
      .btn-add:hover {
        background: #01134f;
        transform: translateY(-2px) scale(1.03);
      }
      .edit-btn, .delete-btn {
        padding: 6px 12px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-right: 6px;
        font-size: 1rem;
        font-weight: 500;
        box-shadow: 0 1px 4px rgba(0,0,0,0.06);
        transition: background 0.2s, transform 0.1s;
      }
      .edit-btn {
        background-color: #22c55e;
        color: white;
      }
      .edit-btn:hover {
        background-color: #16a34a;
        transform: scale(1.07);
      }
      .delete-btn {
        background-color: #ef4444;
        color: white;
      }
      .delete-btn:hover {
        background-color: #b91c1c;
        transform: scale(1.07);
      }
      .modal {
        display: none; 
        position: fixed;
        z-index: 999;
        padding-top: 100px;
        left: 0; top: 0;
        width: 100%; height: 100%;
        overflow: auto;
        background-color: rgba(30,41,59,0.18);
        backdrop-filter: blur(2px);
      }
      .modal-content {
        background-color: #fff;
        margin: auto;
        padding: 32px 24px;
        width: 90%;
        max-width: 420px;
        border-radius: 16px;
        position: relative;
        box-shadow: 0 8px 32px rgba(30,41,59,0.18);
        animation: modalIn 0.25s cubic-bezier(.4,0,.2,1);
      }
      @keyframes modalIn {
        from { opacity: 0; transform: translateY(40px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .modal-content div {
        margin-top: 10px;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      .modal-content input{
        margin-top: 10px;
        padding: 10px 8px;
        margin:5px 0;
        border-radius: 6px;
        border: 1px solid #cbd5e1;
        background: white;
        font-size: 15px;
        transition: border 0.2s;
      }
      .modal-content input:focus {
        border: 1.5px solid #EFEFEF;
        background: #f0f6ff;
      }
      .modal-content footer{
        margin-top: 18px;
        display: flex;
        justify-content: flex-end;
        gap: 12px;
      }
      .modal-content button {
        padding: 10px 18px;
        border-radius: 6px;
        border: none;
        font-size: 1rem;
        font-weight: 500;
        cursor: pointer;
        transition: background 0.2s, transform 0.1s;
      }
      .modal-content #submitContainer {
        background: #1e40af;
        color: #fff;
      }
      .modal-content #submitContainer:hover {
        background: #051d6a;
        transform: scale(1.04);
      }
      .modal-content #closeModal {
        background: #e5e7eb;
        color: #222;
      }
      .modal-content #closeModal:hover {
        background: #cbd5e1;
        transform: scale(1.04);
      }
      .submitForm{
        text-align: center;
      }
      .close {
        position: absolute;
        right: 15px;
        top: 15px;
        cursor: pointer;
        font-size: 26px;
        color: #64748b;
        transition: color 0.2s;
      }
      .close:hover {
        color: #1d4ed8;
      }
      .item-info-box {
        background: #EFEFEF;
        border: 2px solid #EFEFEF;
        border-radius: 10px;
        padding: 6px 16px;
        margin-bottom: 24px;
        font-size: 1.08rem;
        color: #1e293b;
        box-shadow: 0 2px 8px rgba(37,99,235,0.07);
      }
      .item-info-box b {
        color: #1d4ed8;
      }
      #itemLoaderModal {
        display: none;
        position: fixed;
        z-index: 2000;
        left: 0; top: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(30,41,59,0.18);
        backdrop-filter: blur(2px);
        justify-content: center;
        align-items: center;
      }
      .loader-modal-content {
        background: #fff;
        padding: 36px 32px 28px 32px;
        border-radius: 18px;
        box-shadow: 0 8px 32px rgba(30,41,59,0.18);
        display: flex;
        flex-direction: column;
        align-items: center;
        min-width: 180px;
      }
      .loader-spinner {
        border: 4px solid #EEF3FA;
        border-top: 4px solid #1d4ed8;
        border-radius: 50%;
        width: 44px;
        height: 44px;
        animation: spin 1s linear infinite;
        margin-bottom: 18px;
      }
      .loader-text {
        color: #1d4ed8;
        font-size: 1.1rem;
        font-weight: 500;
        letter-spacing: 0.5px;
      }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      @media (max-width: 900px) {
        .flex-row {
          flex-direction: column;
        }
        .container {
          padding: 10px 2vw;
        }
      }
      @media (max-width: 600px) {
        body {
          width: 100vw;
          min-width: 0;
          padding: 0;
          margin: 0;
          box-sizing: border-box;
          overflow-x: hidden !important;
          /* Remove or comment out overflow-y if not needed */
          background: linear-gradient(135deg, #EEF3FA 0%, white 100%);
        }
        .parent {
          width: 100vw;
          max-width: 100vw;
          margin: 0;
          border-radius: 0;
          box-shadow: none;
          background: transparent;
        }
        .container {
          width: 100vw;
          max-width: 100vw;
          border-radius: 0;
          margin: 0;
          box-shadow: none;
          padding: 2vw 1vw;
        }
        .parent2 {
          display: block;
          width: 100%;
        }
        .parent2 .info-table {
          display: block;
          width: 100%;
          overflow-x: auto;
        }
        .parent2 .info-table thead {
          display: none;
        }
        .parent2 .info-table td[data-label]::before {
          content: attr(data-label) ": ";
          font-weight: bold;
          color: #1d4ed8;
          display: block;
          margin-bottom: 2px;
          font-size: 0.97em;
        }
        .parent2 .info-table td, .parent2 .info-table th {
          display: block;
          width: 100%;
          box-sizing: border-box;
          word-break: break-word;
        }
      }
</style>
</html>
